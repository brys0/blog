{{ $src := .Get "src" }}
{{ $videoUrl := (resources.Get $src).RelPermalink }}

<video class="video-shortcode" preload="{{ .Get "preload" }}" controls>
    <source src="{{ $videoUrl }}" type="{{ .Get "type" }}">
    There should have been a video here but your browser does not seem
    to support it.
</video>
